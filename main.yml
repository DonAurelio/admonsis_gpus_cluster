- name: Head node setup
  tags: head_node
  hosts:
    - ss-00
  become: true
  roles:
    - network
    - nfs_common
    - nfs_master
    - slurm_common
    - slurm_master
    - jupyterhub_common
    - jupyterhub_master
    - docker_common
    - users_master
  vars_files:
    - ./vars/common.yml

- name: Compute nodes setup
  tags: compute_nodes
  hosts: 
    - ss-01
  become: true
  roles:
    - network
    - nfs_common
    - nfs_slave
    - slurm_common
    - slurm_slave
    - jupyterhub_common
    - jupyterhub_slave
    - docker_common
    - docker_slave
    - users_slave
  vars_files:
    - ./vars/common.yml
